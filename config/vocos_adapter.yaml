# ====== VOCOS ADAPTER CONFIGURATION ======
# Тренування encoder з pretrained Vocos decoder
# Sample rate: 24kHz, Mel bands: 100

audio:
  sample_rate: 24000  # Vocos працює на 24kHz
  n_fft: 2048
  hop_length: 512
  n_mels: 100  # Vocos використовує 100 mel bands

# Vocos Integration
vocos:
  pretrained_model: "charactr/vocos-mel-24khz"
  freeze_decoder: true  # Не тренуємо Vocos, тільки encoder
  
# Encoder Configuration (адаптований під Vocos)
encoder:
  input_dim: 100       # Mel bands from Vocos
  hidden_dim: 512
  output_dim: 100      # Output 100-dim для Vocos decoder
  num_blocks: 6
  kernel_size: 7

# Dataset
data:
  train_dir: "data/processed/audio"
  val_dir: "data/processed/audio"
  cache_dir: "data/cache"
  min_audio_duration: 0.5
  max_audio_duration: 15.0

# Training Configuration
train:
  batch_size: 32          # Менший batch бо Vocos + discriminator
  gradient_accumulation_steps: 1
  learning_rate: 0.0001
  total_iterations: 50000  # Швидше ніж звичайний autoencoder
  checkpoint_interval: 5000
  validation_interval: 2000
  
  amp:
    enabled: true
  
  optimizer:
    betas: [0.8, 0.99]
    weight_decay: 0.01
  
  # Loss weights
  loss_weights:
    reconstruction: 45.0    # Mel reconstruction loss
    adversarial: 1.0        # GAN loss (якщо тренуємо discriminator)
    feature_matching: 0.1   # Feature matching loss

# Discriminator (опціонально - можна не використовувати)
discriminator:
  use_discriminator: false  # Vocos вже pretrained, тому можна без GAN
  mpd_periods: [2, 3, 5, 7, 11]
  mrd_fft_sizes: [512, 1024, 2048]

# Output
output:
  checkpoint_dir: "checkpoints/vocos_adapter"
  log_dir: "logs/vocos_adapter"
  sample_dir: "samples/vocos_adapter"
