# ====== TRANSFER LEARNING: Vocos Adapter з Pretrained Encoder ======
# Використовує натренований encoder (80k) + додає projection для Vocos
# Економія: ~10-15k ітерацій замість 50k

audio:
  sample_rate: 24000
  n_fft: 2048
  hop_length: 512
  n_mels_vocos: 100      # Vocos mel bands
  n_mels_encoder: 228    # Оригінальний encoder mel bands

# Transfer Learning
transfer:
  pretrained_checkpoint: "checkpoints/autoencoder/checkpoint_80000.pt"
  freeze_encoder: true   # Freeze натренований encoder
  freeze_vocos: true     # Freeze Vocos decoder

# Vocos
vocos:
  pretrained_model: "charactr/vocos-mel-24khz"

# Dataset
data:
  train_dir: "data/processed/audio"
  val_dir: "data/processed/audio"
  cache_dir: "data/cache"
  min_audio_duration: 0.5
  max_audio_duration: 15.0

# Training (швидше бо тренуємо тільки adapter)
train:
  batch_size: 48
  gradient_accumulation_steps: 1
  learning_rate: 0.0005    # Вищий LR для швидкого адаптера
  total_iterations: 15000   # Менше ніж 50k!
  checkpoint_interval: 2000
  validation_interval: 1000
  
  amp:
    enabled: true
  
  optimizer:
    betas: [0.9, 0.999]
    weight_decay: 0.01
  
  loss_weights:
    reconstruction: 1.0
    mel_matching: 10.0  # Важливо щоб mel_100 був близький до Vocos mel

# Output
output:
  checkpoint_dir: "checkpoints/transfer_vocos"
  log_dir: "logs/transfer_vocos"
  sample_dir: "samples/transfer_vocos"
