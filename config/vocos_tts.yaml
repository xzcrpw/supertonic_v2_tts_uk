# ====== VOCOS-BASED TTS CONFIG ======
# Uses pretrained Vocos as autoencoder - NO autoencoder training needed!
# Text-to-Latent generates 100-band mel â†’ Vocos decodes to audio

audio:
  sample_rate: 24000
  n_mels: 100            # Vocos mel bands
  hop_length: 256        # Vocos hop length
  
# Vocos (pretrained - no training)
vocos:
  pretrained_model: "charactr/vocos-mel-24khz"

# Text-to-Latent (this is what we train)
text_to_latent:
  latent_dim: 100        # = n_mels (Vocos features)
  text_embed_dim: 256
  hidden_dim: 512
  num_layers: 6
  num_heads: 8
  dropout: 0.1
  
  # Flow Matching
  flow_matching:
    sigma_min: 0.001
    ode_steps: 10

# Duration Predictor
duration_predictor:
  hidden_dim: 256
  num_layers: 3
  dropout: 0.1

# Dataset
data:
  train_manifest: "data/manifests/train.json"
  val_manifest: "data/manifests/val.json"
  min_audio_duration: 0.5
  max_audio_duration: 15.0
  max_text_length: 500

# Training
train:
  batch_size: 64
  gradient_accumulation_steps: 2
  learning_rate: 0.0001
  total_iterations: 100000
  warmup_iterations: 5000
  checkpoint_interval: 5000
  validation_interval: 1000
  
  amp:
    enabled: true
    dtype: bfloat16
  
  optimizer:
    betas: [0.9, 0.999]
    weight_decay: 0.01
  
  scheduler:
    type: "cosine"
    min_lr: 0.00001

# Output
output:
  checkpoint_dir: "checkpoints/vocos_tts"
  log_dir: "logs/vocos_tts"
  sample_dir: "samples/vocos_tts"
